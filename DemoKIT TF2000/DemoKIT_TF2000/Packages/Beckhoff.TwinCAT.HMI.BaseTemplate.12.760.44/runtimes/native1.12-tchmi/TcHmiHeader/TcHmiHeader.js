var TcHmi,__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};!function(TcHmi){!function(Controls){!function(BaseTemplate){var _a,_TcHmiHeader_tchmiFQN;class TcHmiHeader extends TcHmi.Controls.System.TcHmiControl{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__elementMargin=32,this.__expandableIsActive=!1,this.__expandContainerRows=0,this.__expandButtonSize=48,this.__dropDownBoxOpen=!1,this.__eventDestroyFunctions=[],this.__onResized=event=>{this.__resizeControl()},this.__onThemeDataChanged=event=>{this.__resizeControl()},this.__onUserDataChanged=e=>{this.__removeHeaderItems(),this.__checkForExpandedContainer(),this.__checkForFittingControls(),this.__appendHeaderItems(),this.__expandableIsActive&&(this.__appendExpandButton(),this.__appendExpandContainerControls()),this.__adaptControlSizes()},this.__resizePopup=()=>{const documentBCR=document.documentElement.getBoundingClientRect(),controlBCR=this.__element[0].getBoundingClientRect(),dropdownBCR=this.__elementTemplateExpandableContainer.getBoundingClientRect();let style={top:controlBCR.top+controlBCR.height+"px",left:"0",right:null,"min-width":documentBCR.width+"px",height:this.__expandContainerRows*controlBCR.height+"px"};documentBCR.height-controlBCR.bottom<this.__expandContainerRows*controlBCR.height&&controlBCR.top>=this.__expandContainerRows*controlBCR.height?(style.top=controlBCR.top-this.__expandContainerRows*controlBCR.height+"px",this.__elementTemplateExpandableContainer.classList.add("above-control")):this.__elementTemplateExpandableContainer.classList.remove("above-control"),documentBCR.width-controlBCR.left<dropdownBCR.width&&controlBCR.right>=dropdownBCR.width&&(style.left=null,style.right=documentBCR.width-controlBCR.right+"px"),TcHmi.StyleProvider.setSimpleElementStyle(this.__elementTemplateExpandableContainer,style)},this.__onResolverForHeaderItemsWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("headerItems"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__headerItems)||(this.__destroyHeaderItems(),this.__headerItems=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"HeaderItems"}),this.__processHeaderItems()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiHeader,_a,"f",_TcHmiHeader_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiHeader,_a,"f",_TcHmiHeader_tchmiFQN):"")+", Id="+this.getId()+", Attribute=HeaderItems] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))}}__previnit(){if(this.__elementTemplateRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiHeader-Template")[0],!this.__elementTemplateRoot)throw new Error("Invalid Template.html");if(this.__elementTemplateLeft=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiHeader-Template-Align-Left")[0],!this.__elementTemplateLeft)throw new Error("Invalid Template.html");if(this.__elementTemplateRight=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiHeader-Template-Align-Right")[0],!this.__elementTemplateRight)throw new Error("Invalid Template.html");this.__elementTemplateExpandableContainer=document.createElement("div"),this.__elementTemplateExpandableContainer.classList.add("TcHmi_Controls_BaseTemplate_TcHmiHeader-expandable-container"),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),void 0!==this.__newHeaderItemsValue&&(this.setHeaderItems(this.__newHeaderItemsValue),this.__newHeaderItemsValue=void 0),this.__createHeaderElements(),this.__eventDestroyFunctions.push(TcHmi.EventProvider.register("onThemeDataChanged",this.__onThemeDataChanged)),this.__eventDestroyFunctions.push(TcHmi.EventProvider.register("onUserDataChanged",this.__onUserDataChanged)),this.__eventDestroyFunctions.push(TcHmi.EventProvider.register(this.getId()+".onResized",this.__onResized))}__detach(){super.__detach();for(let event of this.__eventDestroyFunctions)event();this.__eventDestroyFunctions=[],this.__destroyHeaderItems(),this.__movedPopupEventDestroyFunction&&(this.__movedPopupEventDestroyFunction(),this.__movedPopupEventDestroyFunction=void 0),this.__resizedPopupEventDestroyFunction&&(this.__resizedPopupEventDestroyFunction(),this.__resizedPopupEventDestroyFunction=void 0)}destroy(){this.__keepAlive||(this.__destroyHeaderItems(),super.destroy())}__destroyHeaderItems(){if(this.__headerItems)for(let item of this.__headerItems)item.eventDestroyFunction?.(),item.eventDestroyFunction=void 0,item.control?.destroy(),item.control=void 0}__createHeaderElements(){if(this.__headerItems)for(let item of this.__headerItems)if(item.displayed=!1,TcHmi.Access.checkAccess(this,item.id+":observe"))switch(item.itemType){case"EventLine":this.__createEventLine(item);break;case"UserManagement":this.__createUserManagement(item);break;case"Image":this.__createImage(item);break;case"Text":this.__createText(item);break;case"StateImage":this.__createStateImage(item);break;case"Time":this.__createTime(item);break;case"AdsState":this.__createAdsState(item);break;case"ThemeSelect":this.__createThemeSelect(item);break;case"LocalizationSelect":this.__createLocalizationSelect(item);break;default:TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiHeader,_a,"f",_TcHmiHeader_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiHeader,_a,"f",_TcHmiHeader_tchmiFQN):"")+", Id="+this.getId()+"] Unknown header item type in header item "+item.id+".")}this.__appendHeaderItems()}__processDefaultHeaderElementProperties(item){if(item.control){let prefHeight="px"===item.prefHeightUnit?item.prefHeight:this.getRenderedHeight()*(item.prefHeight/100);item.control.setHeight(prefHeight),item.control.setHeightUnit("px");let prefWidth="px"===item.prefWidthUnit?item.prefWidth:this.getRenderedWidth()*(item.prefWidth/100);item.control.setWidth(prefWidth),item.control.setWidthUnit("px"),item.control.setClassNames(item.classList),item.control.setAccessConfig(item.accessRights)}}__appendHeaderItems(){if(this.__isAttached&&(this.__elementTemplateLeft.textContent="",this.__elementTemplateRight.textContent="",this.__removeExpandButton(),this.__headerItems))for(let item of this.__headerItems)if(item.control&&item.displayed){"Left"===item.itemAlign?this.__elementTemplateLeft.append(item.control.getElement()[0]):this.__elementTemplateRight.append(item.control.getElement()[0]);let renderedHeight=this.getRenderedHeight();if(renderedHeight&&item.control.getElement()[0].clientHeight){let diff=renderedHeight-item.control.getElement()[0].clientHeight;if(diff<0)item.control.setHeight(renderedHeight);else{let top=diff/2;item.control.setTop(top),item.control.setTopUnit("px")}}}}__removeHeaderItems(){if(this.__headerItems)for(let item of this.__headerItems)item.control?.getElement().remove(),item.displayed=!1}__resizeControl(){this.__setDropDownboxOpen(!1);let margin=getComputedStyle(this.__element[0]).getPropertyValue("--tchmi-item-margin");margin=margin.slice(0,margin.length-2),this.__elementMargin=+margin,this.__expandableIsActive=!1,this.__availableWidth=this.getRenderedWidth()-this.__elementMargin,this.__checkForExpandedContainer(),this.__checkForFittingControls(),this.__appendHeaderItems(),this.__expandableIsActive&&(this.__appendExpandButton(),this.__appendExpandContainerControls()),this.__adaptControlSizes()}__checkForExpandedContainer(){if(this.__headerItems&&this.__availableWidth){let availableSpace=this.__availableWidth;for(let i=5;i>0;i--)for(let item of this.__headerItems)if(item.priority===i.toString()&&item.control&&TcHmi.Access.checkAccess(this,item.id+":observe")){let minWidth="px"===item.minWidthUnit?item.minWidth:this.getRenderedWidth()*(item.minWidth/100);if(minWidth<availableSpace-this.__elementMargin)availableSpace=availableSpace-minWidth-this.__elementMargin;else if(("EventLine"===item.itemType||"UserManagement"===item.itemType||"Time"===item.itemType||"StateImage"===item.itemType||"AdsState"===item.itemType||"ThemeSelect"===item.itemType||"LocalizationSelect"===item.itemType)&&this.__expandable)return this.__expandableIsActive=!0,this.__expandButtonSize=this.__getAverageHeight(),void(this.__expandButtonSize&&(this.__availableWidth=this.__availableWidth-(this.__expandButtonSize+this.__elementMargin)))}}}__checkForFittingControls(){if(this.__headerItems&&(this.__expandedItems=[],this.__availableWidth)){let availableSpace=this.__availableWidth;for(let i=5;i>0;i--)for(let item of this.__headerItems)if(item.priority===i.toString()&&item.control&&TcHmi.Access.checkAccess(this,item.id+":observe")){let minWidth="px"===item.minWidthUnit?item.minWidth:this.getRenderedWidth()*(item.minWidth/100);minWidth<availableSpace-this.__elementMargin?(availableSpace=availableSpace-minWidth-this.__elementMargin,item.displayed=!0):(item.displayed=!1,"EventLine"!==item.itemType&&"UserManagement"!==item.itemType&&"Time"!==item.itemType&&"StateImage"!==item.itemType&&"AdsState"!==item.itemType&&"ThemeSelect"!==item.itemType&&"LocalizationSelect"!==item.itemType||this.__expandedItems.push(item))}}}__adaptControlSizes(){if(!this.__headerItems)return;let allMins=0;for(let item of this.__headerItems)if(item.displayed&&item.minWidth){allMins=allMins+("px"===item.minWidthUnit?item.minWidth:this.getRenderedWidth()*(item.minWidth/100))+this.__elementMargin}if(this.__availableWidth){let additionalSpace=this.__availableWidth-allMins;for(let i=5;i>0;i--)for(let item of this.__headerItems)if(item.priority===i.toString()&&item.displayed&&item.control){let prefWidth="px"===item.prefWidthUnit?item.prefWidth:this.getRenderedWidth()*(item.prefWidth/100),minWidth="px"===item.minWidthUnit?item.minWidth:this.getRenderedWidth()*(item.minWidth/100);additionalSpace>prefWidth-minWidth?(item.control.setWidth(prefWidth),additionalSpace-=prefWidth-minWidth,item.textElement&&item.textElement.classList.remove("not-displayed")):"StateImage"!==item.itemType&&"AdsState"!==item.itemType?(item.control.setWidth(minWidth+additionalSpace),additionalSpace=0):(item.control.setWidth(minWidth),item.textElement&&item.textElement.classList.add("not-displayed"))}}}__onElementClick(item){return event=>{item.targetRegion&&("string"==typeof item.targetRegion&&item.targetContent&&TcHmi.Symbol.isSymbolExpression(item.targetRegion)?TcHmi.Symbol.readEx2(item.targetRegion,(data=>{if(data.error!==TcHmi.Errors.NONE)throw new Error("Failed to resolve symbol: "+item.targetRegion);{const regionControl=data.value;regionControl&&regionControl.setTargetContent(item.targetContent??null)}})):"string"!=typeof item.targetRegion&&item.targetRegion.setTargetContent(item.targetContent??null))}}__createExpandButton(){this.__expandButton||void 0===TcHmi.Controls.get(this.getId()+".ExpandHeaderButton")&&(this.__expandButton=TcHmi.ControlFactory.create("TcHmi.Controls.Beckhoff.TcHmiButton",this.getId()+".ExpandHeaderButton",this),this.__expandButton&&(this.__expandButton.setText("..."),this.__expandButton.setHeight(this.__expandButtonSize),this.__expandButton.setWidth(this.__expandButtonSize),this.__expandButton.setLeft(this.__elementMargin),this.__expandButton.setTextVerticalAlignment("Center"),this.__expandButton.setTextHorizontalAlignment("Center"),this.__expandButton.setIconVerticalAlignment("Center"),this.__expandButton.setIconHorizontalAlignment("Center"),this.__expandButton.getElement().addClass("expandbutton"),this.__eventDestroyFunctions.push(TcHmi.EventProvider.register(this.getId()+".ExpandHeaderButton.onPressed",this.__onMouseUp()))))}__appendExpandButton(){this.__createExpandButton(),this.__expandButton&&this.__expandButtonSize&&(this.__adaptExpandButtonHeigth(),this.__elementTemplateRoot.append(this.__expandButton.getElement()[0]),this.__elementTemplateLeft.style.left=""+2*this.__elementMargin+this.__expandButtonSize)}__adaptExpandButtonHeigth(){if(this.__expandButton&&this.__expandButtonSize&&this.getRenderedHeight()&&this.__expandButtonSize){let diff=this.getRenderedHeight()-this.__expandButtonSize;if(diff<0)this.__expandButton.setHeight(this.getRenderedHeight());else{let top=diff/2;this.__expandButton.setTop(top),this.__expandButton.setTopUnit("px")}}}__appendExpandContainerControls(){if(!this.__expandedItems)return;this.__elementTemplateExpandableContainer.textContent="";let containerWidth=document.documentElement.clientWidth-this.__elementMargin;this.__expandContainerRows=0;let appendedElements=[];if(this.__expandedItems&&this.__expandedItems.length>0)for(;appendedElements.length!==this.__expandedItems.length;){this.__expandContainerRows++;let rowWidthLeft=containerWidth;for(let item of this.__expandedItems){if(appendedElements.includes(item)||!item.control)continue;let prefWidth="px"===item.prefWidthUnit?item.prefWidth:this.getRenderedWidth()*(item.prefWidth/100),minWidth="px"===item.minWidthUnit?item.minWidth:this.getRenderedWidth()*(item.minWidth/100);if(rowWidthLeft>=prefWidth+this.__elementMargin)this.__elementTemplateExpandableContainer.append(item.control.getElement()[0]),appendedElements.push(item),item.control.setWidth(prefWidth),rowWidthLeft=rowWidthLeft-prefWidth-this.__elementMargin,item.textElement&&item.textElement.classList.remove("not-displayed");else if(rowWidthLeft>=minWidth+this.__elementMargin){if(this.__elementTemplateExpandableContainer.append(item.control.getElement()[0]),appendedElements.push(item),"StateImage"!==item.itemType&&"AdsState"!==item.itemType){item.control.setWidth(rowWidthLeft-this.__elementMargin);break}if(item.control.setWidth(minWidth),rowWidthLeft=rowWidthLeft-minWidth-this.__elementMargin,rowWidthLeft<this.__elementMargin)break;item.textElement&&item.textElement.classList.add("not-displayed")}else rowWidthLeft===containerWidth&&(appendedElements.push(item),TCHMI_CONSOLE_LOG_LEVEL>=3&&TcHmi.Log.infoEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiHeader,_a,"f",_TcHmiHeader_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiHeader,_a,"f",_TcHmiHeader_tchmiFQN):"")+", Id="+this.getId()+"] It is not possible to display the control of the type "+item.itemType+" with the id "+item.control.getId()+"."))}}}__removeExpandButton(){this.__expandButton&&this.__elementTemplateRoot&&(this.__expandButton.getElement().detach(),this.__elementTemplateLeft.style.left="0")}__getAverageHeight(){if(!this.__headerItems)return 48;let heightList=[];for(let item of this.__headerItems)item.prefHeight&&("%"===item.prefHeightUnit?heightList.push(this.getRenderedHeight()*(item.prefHeight/100)):heightList.push(item.prefHeight));return heightList.sort(((a,b)=>a-b)),heightList[Math.floor(heightList.length/2)]}__setDropDownboxOpen(valueNew){if(void 0===valueNew&&(valueNew=!this.__dropDownBoxOpen),valueNew){this.__dropDownBoxOpen=!0;let topMostLayerOptions={removeCb:data=>{this.__dropDownBoxOpen=!1,this.__resizedPopupEventDestroyFunction&&(this.__resizedPopupEventDestroyFunction(),this.__resizedPopupEventDestroyFunction=void 0),this.__movedPopupEventDestroyFunction&&(this.__movedPopupEventDestroyFunction(),this.__movedPopupEventDestroyFunction=void 0),document.removeEventListener("scroll",this.__resizePopup,{capture:!0}),window.removeEventListener("resize",this.__resizePopup)},dimBackground:!1,modal:!0};this.__resizedPopupEventDestroyFunction=TcHmi.EventProvider.register(this.__id+".onResized",this.__resizePopup),this.__movedPopupEventDestroyFunction=TcHmi.EventProvider.register(this.__id+".onMoved",this.__resizePopup),document.addEventListener("scroll",this.__resizePopup,{capture:!0,passive:!0}),window.addEventListener("resize",this.__resizePopup,{passive:!0}),TcHmi.TopMostLayer.add(this,this.__elementTemplateExpandableContainer,topMostLayerOptions),this.__resizePopup()}else TcHmi.TopMostLayer.remove(this,this.__elementTemplateExpandableContainer)}__onMouseUp(){return event=>{this.__setDropDownboxOpen()}}getAccessConfig(){const currentAccessConfig=super.getAccessConfig();return this.__getSubRights(this.__headerItems??[],tchmi_clone_object(currentAccessConfig))}__getSubRights(elements,accessList){if(!elements)return accessList;for(const element of elements)if(element.accessRights)for(const elementAccessRight of element.accessRights)if(elementAccessRight){let curAccess={accessright:element.id+":"+elementAccessRight.accessright,group:elementAccessRight.group,permission:elementAccessRight.permission};accessList.push(curAccess)}return accessList}getDescriptionAccessByName(name){return name.includes(":")?{name:name,defaultValueInternal:!0}:null}__createEventLine(item){if(void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiEventLine",this.getId()+"."+item.id,{"data-tchmi-message-format":item.messageFormat,"data-tchmi-filter":item.filter,"data-tchmi-target-content":item.targetContent,"data-tchmi-target-region":"string"==typeof item.targetRegion?item.targetRegion:null},this),item.control)){let eventLine=item.control;eventLine&&item.targetRegion&&"string"!=typeof item.targetRegion&&eventLine.setTargetRegion(item.targetRegion),this.__processDefaultHeaderElementProperties(item),item.displayed=!0}}__createUserManagement(item){void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiUserManagement",this.getId()+"."+item.id,{"data-tchmi-allow-logout":item.allowLogout,"data-tchmi-allow-switch-user":item.allowSwitchUser},this),item.control&&(this.__processDefaultHeaderElementProperties(item),item.displayed=!0))}__createImage(item){if(void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiImage",this.getId()+"."+item.id,{"data-tchmi-src":item.image,"data-tchmi-alt":item.altText},this),item.control)){this.__processDefaultHeaderElementProperties(item);let image=item.control;item.targetRegion&&item.targetContent&&(item.eventDestroyFunction=TcHmi.EventProvider.register(image.getId()+".onPressed",this.__onElementClick(item))),item.displayed=!0}}__createText(item){if(void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTextblock",this.getId()+"."+item.id,{"data-tchmi-text":item.text},this),item.control)){this.__processDefaultHeaderElementProperties(item);let textblock=item.control;item.targetRegion&&item.targetContent&&(item.eventDestroyFunction=TcHmi.EventProvider.register(textblock.getId()+".onPressed",this.__onElementClick(item)));let element=textblock.getElement().find(".TcHmi_Controls_Beckhoff_TcHmiTextblock-template-text-container");element&&element.css("white-space","normal"),item.displayed=!0}}__createStateImage(item){if(void 0===TcHmi.Controls.get(this.getId()+"."+item.id)){if(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiStateImage",this.getId()+"."+item.id,{"data-tchmi-state":item.stateVar,"data-tchmi-state-list":item.stateList},this),item.iconWidth&&item.iconWidthUnit&&item.control){let iconWidth=item.iconWidth;if("%"===item.iconWidthUnit){iconWidth=("px"===item.prefHeightUnit?item.prefHeight:this.getRenderedHeight()*(item.prefHeight/100))*(item.iconWidth/100)}item.control.getElement()[0].children[0].style.flexBasis=iconWidth+"px"}item.text&&""!==item.text&&(item.textElement=document.createElement("div"),item.textElement.classList.add("description-text"),item.textElement&&(item.textElement.textContent=item.text),"Left"===item.textPosition?item.control?.getElement()[0].children[0].before(item.textElement):"Right"===item.textPosition&&item.control?.getElement()[0].append(item.textElement)),this.__processDefaultHeaderElementProperties(item),item.displayed=!0}}__createAdsState(item){if(void 0===TcHmi.Controls.get(this.getId()+"."+item.id)){if(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiAdsState",this.getId()+"."+item.id,{"data-tchmi-ads-runtime":item.adsRuntime,"data-tchmi-server-interval":item.serverInterval??1e3,"data-tchmi-server-domain":item.serverDomain??"ADS","data-tchmi-state-images":item.stateImages??null},this),item.iconWidth&&item.iconWidthUnit&&item.control){let iconWidth=item.iconWidth;if("%"===item.iconWidthUnit){iconWidth=("px"===item.prefHeightUnit?item.prefHeight:this.getRenderedHeight()*(item.prefHeight/100))*(item.iconWidth/100)}item.control.getElement()[0].children[0].style.flexBasis=iconWidth+"px"}item.text&&""!==item.text&&(item.textElement=document.createElement("div"),item.textElement.classList.add("description-text"),item.textElement.textContent=item.text,"Left"===item.textPosition?item.control?.getElement()[0].children[0].before(item.textElement):"Right"===item.textPosition&&item.control?.getElement()[0].append(item.textElement)),this.__processDefaultHeaderElementProperties(item),item.displayed=!0}}__createTime(item){void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiDateTimeDisplay",this.getId()+"."+item.id,{"data-tchmi-time-display-layout":item.timeDisplayLayout},this),this.__processDefaultHeaderElementProperties(item),item.displayed=!0)}__createThemeSelect(item){void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.create("TcHmi.Controls.Beckhoff.TcHmiThemeSelect",this.getId()+"."+item.id,this),this.__processDefaultHeaderElementProperties(item),item.displayed=!0)}__createLocalizationSelect(item){void 0===TcHmi.Controls.get(this.getId()+"."+item.id)&&(item.control=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiLocalizationSelect",this.getId()+"."+item.id,{"data-tchmi-localization-mapping":item.localizationMapping},this),this.__processDefaultHeaderElementProperties(item),item.displayed=!0)}setHeaderItems(valueNew){if(!this.__isAttached)return void(this.__newHeaderItemsValue=valueNew);let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("HeaderItems"));let resolverInfo=this.__objectResolvers.get("HeaderItems");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,this);this.__objectResolvers.set("headerItems",{resolver:resolver,watchCallback:this.__onResolverForHeaderItemsWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForHeaderItemsWatchCallback)})}getHeaderItems(){return this.__headerItems}__processHeaderItems(){if(!this.__headerItems)return;let randomId=0;for(let item of this.__headerItems)item.id="headeritem_"+randomId,randomId++;this.__isAttached&&(this.__createHeaderElements(),this.__resizeControl())}setExpandable(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("Expandable")),convertedValue!==this.__expandable&&(this.__expandable=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Expandable"}))}getExpandable(){return this.__expandable}}_TcHmiHeader_tchmiFQN={value:"TcHmi.Controls.BaseTemplate."+(_a=TcHmiHeader).name},BaseTemplate.TcHmiHeader=TcHmiHeader}(Controls.BaseTemplate||(Controls.BaseTemplate={}))}(TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiHeader","TcHmi.Controls.BaseTemplate",TcHmi.Controls.BaseTemplate.TcHmiHeader);