var TcHmi;!function(TcHmi){!function(Controls){!function(BaseTemplate){class TcHmiBurgerMenu extends TcHmi.Controls.Beckhoff.TcHmiToggleButton{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__targetControlSave=null,this.__dropdownboxOpen=!1,this.__resizedEventDestroyEvent=null,this.__movedEventDestroyEvent=null,this.__onPressedDestroyEvent=null,this.__themeChangedDestroyFunction=null,this.__onPressed=event=>{this.__setDropDownboxOpen()},this.__onThemeChanged=()=>{this.__targetControlSave&&this.setTargetControl(this.__targetControlSave)},this.__onWindowResize=()=>{this.__setContainerSize()}}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_BaseTemplate_TcHmiBurgerMenu-Template"),!this.__elementTemplateRoot)throw new Error("Invalid Template.html");this.__targetControlContainer=document.createElement("div"),this.__targetControlContainer_2=document.createElement("div"),this.__targetControlContainer_2.classList.add("TcHmi_Controls_BaseTemplate_TcHmiBurgerMenu-container"),this.__targetControlContainer.appendChild(this.__targetControlContainer_2),super.__previnit()}__init(){super.__init()}__attach(){!this.__targetControl_Parent&&this.__targetControl&&this.__grabTargetControl(),this.__themeChangedDestroyFunction=TcHmi.EventProvider.register("onThemeDataChanged",this.__onThemeChanged),this.__onPressedDestroyEvent=TcHmi.EventProvider.register(this.getId()+".onPressed",this.__onPressed),super.__attach()}__detach(){super.__detach(),this.__dropdownboxOpen&&this.__setDropDownboxOpen(!1),this.__replaceTargetControl(),null!==this.__onPressedDestroyEvent&&(this.__onPressedDestroyEvent(),this.__onPressedDestroyEvent=null),this.__themeChangedDestroyFunction&&(this.__themeChangedDestroyFunction(),this.__themeChangedDestroyFunction=null)}destroy(){this.__keepAlive||super.destroy()}__setDropDownboxOpen(valueNew){if(void 0===valueNew&&(valueNew=!this.__dropdownboxOpen),this.__targetControl)if(valueNew){this.__dropdownboxOpen=!0;let topMostLayerOptions={removeCb:data=>{this.__dropdownboxOpen=!1,data.canceled&&TcHmi.EventProvider.raise(this.__id+".onUserInteractionCanceled"),null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null),null!==this.__movedEventDestroyEvent&&(this.__movedEventDestroyEvent(),this.__movedEventDestroyEvent=null),this.__toggleLock=!1,this.__processState(!1,!0,"userInteraction")},dimBackground:!0,modal:!0};window.addEventListener("resize",this.__onWindowResize),this.__targetControlContainer.appendChild(this.__targetControl?.getElement()[0]),TcHmi.TopMostLayer.add(this,this.__targetControlContainer,topMostLayerOptions),this.__setContainerSize(),this.__targetControl?.getElement()?.addClass("burger-menu-content-in-topmostlayer")}else this.closeMenu()}closeMenu(){window.removeEventListener("resize",this.__onWindowResize),this.__targetControl?.getElement()?.removeClass("burger-menu-content-in-topmostlayer"),TcHmi.TopMostLayer.remove(this,this.__targetControlContainer),this.__targetControl?.getElement()[0].remove()}__grabTargetControl(){if(!TCHMI_DESIGNER&&this.__targetControl){this.__targetControl.getElement()[0]?.remove(),this.__targetControl_Parent=this.__targetControl.getParent()?.getElement()}}__replaceTargetControl(){this.__targetControl_Parent&&this.__targetControl&&(this.__dropdownboxOpen&&TcHmi.TopMostLayer.remove(this,this.__targetControl.getElement()),this.__targetControl_Parent.append(this.__targetControl.getElement()),this.__targetControl_Parent=null)}__setContainerSize(){if(this.__targetControl){let controlBCR=this.__targetControl.getElement()[0].getBoundingClientRect(),width=controlBCR.width,height=controlBCR.height,top=controlBCR.top,bottom=controlBCR.bottom,left=controlBCR.left,right=controlBCR.right;this.__targetControlContainer_2.style.width=width+"px",this.__targetControlContainer_2.style.height=height+"px",this.__targetControlContainer_2.style.top=top+"px",this.__targetControlContainer_2.style.bottom=bottom+"px",this.__targetControlContainer_2.style.left=left+"px",this.__targetControlContainer_2.style.right=right+"px"}}setTargetControl(valueNew){let convertedValue=valueNew instanceof TcHmi.Controls.System.TcHmiControl?valueNew:null;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TargetControl")),convertedValue!==this.__targetControl&&(this.__targetControl&&this.__replaceTargetControl(),this.__targetControl=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetControl"}),this.__processTargetControl())}getTargetControl(){return this.__targetControl}__processTargetControl(){this.__targetControl?.getElement()?.parent()&&!this.__targetControl_Parent&&this.getIsAttached()&&this.getIsEnabled()&&this.__grabTargetControl()}}BaseTemplate.TcHmiBurgerMenu=TcHmiBurgerMenu}(Controls.BaseTemplate||(Controls.BaseTemplate={}))}(TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiBurgerMenu","TcHmi.Controls.BaseTemplate",TcHmi.Controls.BaseTemplate.TcHmiBurgerMenu);